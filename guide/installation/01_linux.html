<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.53">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <script>if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) { window.document.querySelector('html').classList.add('dark');} </script><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="mask-icon" color="#ffc135" href="/safari-pinned-tab.svg"><meta name="msapplication-TileColor" content="#ffc135"><meta name="theme-color" content="#ffc135"><title>Linux | Zigbee2MQTT</title><meta name="description" content="Zigbee to MQTT bridge, get rid of your proprietary Zigbee bridges">
    <link rel="preload" href="/assets/css/styles.ff76e131.css" as="style" /><link rel="stylesheet" href="/assets/css/styles.ff76e131.css" />
    <link rel="preload" href="/assets/js/runtime~app.aed27094.js" as="script"><link rel="preload" href="/assets/css/styles.ff76e131.css" as="style"><link rel="preload" href="/assets/js/65740.363d4dad.js" as="script"><link rel="preload" href="/assets/js/app.1bfd5e5d.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container content-page"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/logo.png" alt="Zigbee2MQTT"><span class="site-name can-hide">Zigbee2MQTT</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guide/getting-started/" class="" aria-label="Getting started"><!--[--><!--]--> Getting started <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/adapters/" class="" aria-label="Supported Adapters"><!--[--><!--]--> Supported Adapters <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/supported-devices/" class="" aria-label="Supported Devices"><!--[--><!--]--> Supported Devices <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/installation/" class="router-link-active" aria-label="Installation"><!--[--><!--]--> Installation <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/configuration/" class="" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/usage/pairing_devices.md" class="" aria-label="Usage"><!--[--><!--]--> Usage <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/faq/" class="" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/supported-devices/" class="" aria-label="Devices"><!--[--><!--]--> Devices <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Advanced"><span class="title">Advanced</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Advanced"><span class="title">Advanced</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Zigbee</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/advanced/zigbee/01_zigbee_network.html" class="" aria-label="Zigbee network"><!--[--><!--]--> Zigbee network <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/zigbee/02_improve_network_range_and_stability.html" class="" aria-label="Improve network range and stability"><!--[--><!--]--> Improve network range and stability <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/zigbee/03_secure_network.html" class="" aria-label="Secure your Zigbee network"><!--[--><!--]--> Secure your Zigbee network <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/zigbee/04_sniff_zigbee_traffic.html" class="" aria-label="Sniff Zigbee traffic"><!--[--><!--]--> Sniff Zigbee traffic <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/zigbee/05_create_a_cc2530_router.html" class="" aria-label="Create a CC2530 router"><!--[--><!--]--> Create a CC2530 router <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Support new devices</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/advanced/support-new-devices/01_support_new_devices.html" class="" aria-label="Support new devices"><!--[--><!--]--> Support new devices <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/support-new-devices/02_support_new_tuya_devices.html" class="" aria-label="Support new Tuya devices"><!--[--><!--]--> Support new Tuya devices <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/support-new-devices/03_find_tuya_data_points.html" class="" aria-label="Find Tuya Data Points"><!--[--><!--]--> Find Tuya Data Points <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Remote Adapter</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/advanced/remote-adapter/connect_to_a_remote_adapter.html" class="" aria-label="Connect to a remote adapter"><!--[--><!--]--> Connect to a remote adapter <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/remote-adapter/connect_to_a_remote_sonoff_zbbridge.html" class="" aria-label="Connect to a remote Sonoff ZBBridge"><!--[--><!--]--> Connect to a remote Sonoff ZBBridge <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>More</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/advanced/more/3d_cases.html" class="" aria-label="3D cases"><!--[--><!--]--> 3D cases <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/more/switch-to-dev-branch.html" class="" aria-label="Switch to the dev branch"><!--[--><!--]--> Switch to the dev branch <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/more/tuya_xiaomi_ota_url.html" class="" aria-label="Get Tuya and Xiaomi OTA url"><!--[--><!--]--> Get Tuya and Xiaomi OTA url <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/more/user_extensions.html" class="" aria-label="User extensions"><!--[--><!--]--> User extensions <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Support"><span class="title">Support</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Support"><span class="title">Support</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/Koenkk/zigbee2mqtt/discussions" rel="noopener noreferrer" target="_blank" aria-label="Forum"><!--[--><!--]--> Forum <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://discord.gg/NyseBeK" rel="noopener noreferrer" target="_blank" aria-label="Discord"><!--[--><!--]--> Discord <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/Koenkk/zigbee2mqtt/issues" rel="noopener noreferrer" target="_blank" aria-label="Issues"><!--[--><!--]--> Issues <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/Koenkk/zigbee2mqtt" rel="noopener noreferrer" target="_blank" aria-label="Donate"><!--[--><!--]--> Donate <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/Koenkk/zigbee2mqtt" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/Koenkk/zigbee2mqtt.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub (docs)"><!--[--><!--]--> GitHub (docs) <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guide/getting-started/" class="" aria-label="Getting started"><!--[--><!--]--> Getting started <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/adapters/" class="" aria-label="Supported Adapters"><!--[--><!--]--> Supported Adapters <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/supported-devices/" class="" aria-label="Supported Devices"><!--[--><!--]--> Supported Devices <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/installation/" class="router-link-active" aria-label="Installation"><!--[--><!--]--> Installation <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/configuration/" class="" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/usage/pairing_devices.md" class="" aria-label="Usage"><!--[--><!--]--> Usage <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/faq/" class="" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/supported-devices/" class="" aria-label="Devices"><!--[--><!--]--> Devices <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Advanced"><span class="title">Advanced</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Advanced"><span class="title">Advanced</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Zigbee</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/advanced/zigbee/01_zigbee_network.html" class="" aria-label="Zigbee network"><!--[--><!--]--> Zigbee network <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/zigbee/02_improve_network_range_and_stability.html" class="" aria-label="Improve network range and stability"><!--[--><!--]--> Improve network range and stability <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/zigbee/03_secure_network.html" class="" aria-label="Secure your Zigbee network"><!--[--><!--]--> Secure your Zigbee network <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/zigbee/04_sniff_zigbee_traffic.html" class="" aria-label="Sniff Zigbee traffic"><!--[--><!--]--> Sniff Zigbee traffic <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/zigbee/05_create_a_cc2530_router.html" class="" aria-label="Create a CC2530 router"><!--[--><!--]--> Create a CC2530 router <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Support new devices</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/advanced/support-new-devices/01_support_new_devices.html" class="" aria-label="Support new devices"><!--[--><!--]--> Support new devices <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/support-new-devices/02_support_new_tuya_devices.html" class="" aria-label="Support new Tuya devices"><!--[--><!--]--> Support new Tuya devices <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/support-new-devices/03_find_tuya_data_points.html" class="" aria-label="Find Tuya Data Points"><!--[--><!--]--> Find Tuya Data Points <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Remote Adapter</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/advanced/remote-adapter/connect_to_a_remote_adapter.html" class="" aria-label="Connect to a remote adapter"><!--[--><!--]--> Connect to a remote adapter <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/remote-adapter/connect_to_a_remote_sonoff_zbbridge.html" class="" aria-label="Connect to a remote Sonoff ZBBridge"><!--[--><!--]--> Connect to a remote Sonoff ZBBridge <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>More</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/advanced/more/3d_cases.html" class="" aria-label="3D cases"><!--[--><!--]--> 3D cases <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/more/switch-to-dev-branch.html" class="" aria-label="Switch to the dev branch"><!--[--><!--]--> Switch to the dev branch <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/more/tuya_xiaomi_ota_url.html" class="" aria-label="Get Tuya and Xiaomi OTA url"><!--[--><!--]--> Get Tuya and Xiaomi OTA url <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/advanced/more/user_extensions.html" class="" aria-label="User extensions"><!--[--><!--]--> User extensions <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Support"><span class="title">Support</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Support"><span class="title">Support</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/Koenkk/zigbee2mqtt/discussions" rel="noopener noreferrer" target="_blank" aria-label="Forum"><!--[--><!--]--> Forum <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://discord.gg/NyseBeK" rel="noopener noreferrer" target="_blank" aria-label="Discord"><!--[--><!--]--> Discord <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/Koenkk/zigbee2mqtt/issues" rel="noopener noreferrer" target="_blank" aria-label="Issues"><!--[--><!--]--> Issues <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/Koenkk/zigbee2mqtt" rel="noopener noreferrer" target="_blank" aria-label="Donate"><!--[--><!--]--> Donate <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/Koenkk/zigbee2mqtt" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/Koenkk/zigbee2mqtt.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub (docs)"><!--[--><!--]--> GitHub (docs) <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/guide/getting-started/" class="sidebar-item sidebar-heading" aria-label="Getting started"><!--[--><!--]--> Getting started <!--[--><!--]--></a><!----></li><li><a href="/guide/supported-hardware.md" class="sidebar-item sidebar-heading" aria-label="Supported Hardware"><!--[--><!--]--> Supported Hardware <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/guide/adapters/" class="sidebar-item" aria-label="Adapters"><!--[--><!--]--> Adapters <!--[--><!--]--></a><!----></li><li><a href="/supported-devices/" class="sidebar-item" aria-label="Devices"><!--[--><!--]--> Devices <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/guide/installation/" class="router-link-active sidebar-item sidebar-heading active" aria-label="Installation"><!--[--><!--]--> Installation <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/guide/installation/01_linux.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/guide/installation/01_linux.html#determine-location-of-the-adapter-and-checking-user-permissions" class="router-link-active router-link-exact-active sidebar-item" aria-label="Determine location of the adapter and checking user permissions"><!--[--><!--]--> Determine location of the adapter and checking user permissions <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/installation/01_linux.html#installing" class="router-link-active router-link-exact-active sidebar-item" aria-label="Installing"><!--[--><!--]--> Installing <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/installation/01_linux.html#configuring" class="router-link-active router-link-exact-active sidebar-item" aria-label="Configuring"><!--[--><!--]--> Configuring <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/installation/01_linux.html#starting-zigbee2mqtt" class="router-link-active router-link-exact-active sidebar-item" aria-label="Starting Zigbee2MQTT"><!--[--><!--]--> Starting Zigbee2MQTT <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/installation/01_linux.html#optional-running-as-a-daemon-with-systemctl" class="router-link-active router-link-exact-active sidebar-item" aria-label="(Optional) Running as a daemon with systemctl"><!--[--><!--]--> (Optional) Running as a daemon with systemctl <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/installation/01_linux.html#for-later-update-zigbee2mqtt-to-the-latest-version" class="router-link-active router-link-exact-active sidebar-item" aria-label="(For later) Update Zigbee2MQTT to the latest version"><!--[--><!--]--> (For later) Update Zigbee2MQTT to the latest version <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/guide/installation/02_docker.html" class="sidebar-item" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a><!----></li><li><a href="/guide/installation/03_ha_addon.html" class="sidebar-item" aria-label="Home Assistant addon"><!--[--><!--]--> Home Assistant addon <!--[--><!--]--></a><!----></li><li><a href="/guide/installation/04_openhabian.html" class="sidebar-item" aria-label="openHABian"><!--[--><!--]--> openHABian <!--[--><!--]--></a><!----></li><li><a href="/guide/installation/05_windows.html" class="sidebar-item" aria-label="Windows"><!--[--><!--]--> Windows <!--[--><!--]--></a><!----></li><li><a href="/guide/installation/06_freebsd_jail.html" class="sidebar-item" aria-label="FreeBSD jail"><!--[--><!--]--> FreeBSD jail <!--[--><!--]--></a><!----></li><li><a href="/guide/installation/07_python_virtual_environment.html" class="sidebar-item" aria-label="Python Virtual Environment"><!--[--><!--]--> Python Virtual Environment <!--[--><!--]--></a><!----></li><li><a href="/guide/installation/15_watchdog.html" class="sidebar-item" aria-label="Watchdog"><!--[--><!--]--> Watchdog <!--[--><!--]--></a><!----></li><li><a href="/guide/installation/20_zigbee2mqtt-fails-to-start.html" class="sidebar-item" aria-label="Zigbee2MQTT fails to start"><!--[--><!--]--> Zigbee2MQTT fails to start <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/guide/configuration/" class="sidebar-item sidebar-heading" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/guide/configuration/adapter-settings.html" class="sidebar-item" aria-label="Adapter settings"><!--[--><!--]--> Adapter settings <!--[--><!--]--></a><!----></li><li><a href="/guide/configuration/mqtt.html" class="sidebar-item" aria-label="MQTT"><!--[--><!--]--> MQTT <!--[--><!--]--></a><!----></li><li><a href="/guide/configuration/zigbee-network.html" class="sidebar-item" aria-label="Zigbee network"><!--[--><!--]--> Zigbee network <!--[--><!--]--></a><!----></li><li><a href="/guide/configuration/frontend.html" class="sidebar-item" aria-label="Frontend"><!--[--><!--]--> Frontend <!--[--><!--]--></a><!----></li><li><a href="/guide/configuration/devices-groups.html" class="sidebar-item" aria-label="Devices and Groups"><!--[--><!--]--> Devices and Groups <!--[--><!--]--></a><!----></li><li><a href="/guide/configuration/logging.html" class="sidebar-item" aria-label="Logging"><!--[--><!--]--> Logging <!--[--><!--]--></a><!----></li><li><a href="/guide/configuration/block-pass-list.html" class="sidebar-item" aria-label="Device blocklist / passlist"><!--[--><!--]--> Device blocklist / passlist <!--[--><!--]--></a><!----></li><li><a href="/guide/configuration/ota-device-updates.html" class="sidebar-item" aria-label="OTA device firmware update"><!--[--><!--]--> OTA device firmware update <!--[--><!--]--></a><!----></li><li><a href="/guide/configuration/device-availability.html" class="sidebar-item" aria-label="Device-Availability"><!--[--><!--]--> Device-Availability <!--[--><!--]--></a><!----></li><li><a href="/guide/configuration/homeassistant.html" class="sidebar-item" aria-label="Home Assistant integration"><!--[--><!--]--> Home Assistant integration <!--[--><!--]--></a><!----></li><li><a href="/guide/configuration/more-config-options.html" class="sidebar-item" aria-label="More configuration options"><!--[--><!--]--> More configuration options <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/guide/usage/" class="sidebar-item sidebar-heading" aria-label="Usage"><!--[--><!--]--> Usage <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/guide/usage/pairing_devices.html" class="sidebar-item" aria-label="Allowing devices to join"><!--[--><!--]--> Allowing devices to join <!--[--><!--]--></a><!----></li><li><a href="/guide/usage/integrations.html" class="sidebar-item" aria-label="Integrations"><!--[--><!--]--> Integrations <!--[--><!--]--></a><!----></li><li><a href="/guide/usage/touchlink.html" class="sidebar-item" aria-label="Touchlink"><!--[--><!--]--> Touchlink <!--[--><!--]--></a><!----></li><li><a href="/guide/usage/scenes.html" class="sidebar-item" aria-label="Scenes"><!--[--><!--]--> Scenes <!--[--><!--]--></a><!----></li><li><a href="/guide/usage/binding.html" class="sidebar-item" aria-label="Binding"><!--[--><!--]--> Binding <!--[--><!--]--></a><!----></li><li><a href="/guide/usage/groups.html" class="sidebar-item" aria-label="Groups"><!--[--><!--]--> Groups <!--[--><!--]--></a><!----></li><li><a href="/guide/usage/ota_updates.html" class="sidebar-item" aria-label="OTA updates"><!--[--><!--]--> OTA updates <!--[--><!--]--></a><!----></li><li><a href="/guide/usage/mqtt_topics_and_messages.html" class="sidebar-item" aria-label="MQTT Topics and Messages"><!--[--><!--]--> MQTT Topics and Messages <!--[--><!--]--></a><!----></li><li><a href="/guide/usage/exposes.html" class="sidebar-item" aria-label="Exposes"><!--[--><!--]--> Exposes <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/guide/faq/" class="sidebar-item sidebar-heading" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="linux" tabindex="-1"><a class="header-anchor" href="#linux" aria-hidden="true">#</a> Linux</h1><p>These instructions explain how to run Zigbee2MQTT on Linux.</p><p>For the sake of simplicity this guide assumes running on a Raspberry Pi 4 with Raspbian Stretch Lite, but it should work on any Linux machine.</p><p>Therefore the user <code>pi</code> is used the following examples, but the user may differ between distributions e.g. <code>openhabian</code> should be used on Openhabian.</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Before starting make sure you have an MQTT broker installed on your system. There are many tutorials available on how to do this, <a href="https://randomnerdtutorials.com/how-to-install-mosquitto-broker-on-raspberry-pi/" target="_blank" rel="noopener noreferrer">example<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. Mosquitto is the recommended MQTT broker but others should also work fine.</p></div><h2 id="determine-location-of-the-adapter-and-checking-user-permissions" tabindex="-1"><a class="header-anchor" href="#determine-location-of-the-adapter-and-checking-user-permissions" aria-hidden="true">#</a> Determine location of the adapter and checking user permissions</h2><p>We first need to determine the location of the adapter. Connect the adapter to your Raspberry Pi. Most of the times the location is <code>/dev/ttyACM0</code>. This can be verified by:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pi@raspberry:~ $ <span class="token function">ls</span> <span class="token parameter variable">-l</span> /dev/ttyACM0
crw-rw---- <span class="token number">1</span> root dialout <span class="token number">166</span>, <span class="token number">0</span> May <span class="token number">16</span> <span class="token number">19</span>:15 /dev/ttyACM0  <span class="token comment"># &lt;-- adapter (CC2531 in this case) on /dev/ttyACM0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Alternately, if you are using an ethernet connected adapter, follow the instructions given for your specific device.</p><p>However, it is <strong>recommended</strong> to use &quot;by ID&quot; mapping of the device (see <a href="/guide/configuration/adapter-settings.html" class="">Adapter settings</a>). This kind of device path mapping is more stable, but can also be handy if you have multiple serial devices connected to your Raspberry Pi. In the example below the device location is: <code>/dev/serial/by-id/usb-Texas_Instruments_TI_CC2531_USB_CDC___0X00124B0018ED3DDF-if00</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pi@raspberry:/ $ <span class="token function">ls</span> <span class="token parameter variable">-l</span> /dev/serial/by-id
total <span class="token number">0</span>
lrwxrwxrwx. <span class="token number">1</span> root root <span class="token number">13</span> Oct <span class="token number">19</span> <span class="token number">19</span>:26 usb-Texas_Instruments_TI_CC2531_USB_CDC___0X00124B0018ED3DDF-if00 -<span class="token operator">&gt;</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/ttyACM0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="installing" tabindex="-1"><a class="header-anchor" href="#installing" aria-hidden="true">#</a> Installing</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Set up Node.js repository and install Node.js + required dependencies</span>
<span class="token comment"># NOTE 1: Older i386 hardware can work with [unofficial-builds.nodejs.org](https://unofficial-builds.nodejs.org/download/release/v20.9.0/ e.g. Version 20.9.0 should work.</span>
<span class="token comment"># NOTE 2: For Ubuntu see tip below</span>
<span class="token comment"># NOTE 3: Curl might have to be installed first via apt update &amp;&amp; apt install curl</span>
<span class="token function">sudo</span> <span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://deb.nodesource.com/setup_20.x <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token parameter variable">-E</span> <span class="token function">bash</span> -
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> nodejs <span class="token function">git</span> <span class="token function">make</span> g++ gcc libsystemd-dev

<span class="token comment"># Verify that the correct nodejs and npm (automatically installed with nodejs)</span>
<span class="token comment"># version has been installed</span>
<span class="token function">node</span> <span class="token parameter variable">--version</span>  <span class="token comment"># Should output V18.x, V20.x, V21.X</span>
<span class="token function">npm</span> <span class="token parameter variable">--version</span>  <span class="token comment"># Should output 9.X or 10.X</span>

<span class="token comment"># Create a directory for zigbee2mqtt and set your user as owner of it</span>
<span class="token function">sudo</span> <span class="token function">mkdir</span> /opt/zigbee2mqtt
<span class="token function">sudo</span> <span class="token function">chown</span> <span class="token parameter variable">-R</span> <span class="token variable">${<span class="token environment constant">USER</span>}</span><span class="token builtin class-name">:</span> /opt/zigbee2mqtt

<span class="token comment"># Clone Zigbee2MQTT repository</span>
<span class="token function">git</span> clone <span class="token parameter variable">--depth</span> <span class="token number">1</span> https://github.com/Koenkk/zigbee2mqtt.git /opt/zigbee2mqtt

<span class="token comment"># Install dependencies (as user &quot;pi&quot;)</span>
<span class="token builtin class-name">cd</span> /opt/zigbee2mqtt
<span class="token function">npm</span> ci
<span class="token comment"># If this command fails and returns an ERR_SOCKET_TIMEOUT error, run this command instead: npm ci  --maxsockets 1</span>

<span class="token comment"># Build the app</span>
<span class="token function">npm</span> run build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If everything went correctly the output of <code>npm ci</code> is similar to (the number of packages and seconds is probably different on your device):</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>node-pre-gyp info ok
added <span class="token number">383</span> packages <span class="token keyword">in</span> <span class="token number">111</span>.613s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Note that the <code>npm ci</code> produces some <code>warning</code> which can be ignored.</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>On Ubuntu, Node.js can be installed through Snap</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Install latest nodejs from snap store</span>
<span class="token comment"># The --classic argument is required here as Node.js needs full access to your system in order to be useful.</span>
<span class="token comment"># You can also use the --channel=XX argument to install a legacy version where XX is the version you want to install (we need 14+).</span>
<span class="token function">sudo</span> snap <span class="token function">install</span> <span class="token function">node</span> <span class="token parameter variable">--classic</span>

<span class="token comment"># Verify node has been installed</span>
<span class="token comment"># If you encounter an error at this stage and used the snap store instructions, adjust the BIN path as follows:</span>
<span class="token comment">## PATH=$PATH:/snap/node/current/bin</span>
<span class="token comment"># then re-verify nodejs and npm versions as above</span>
<span class="token function">node</span> <span class="token parameter variable">--version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h2 id="configuring" tabindex="-1"><a class="header-anchor" href="#configuring" aria-hidden="true">#</a> Configuring</h2><p>Before we can start Zigbee2MQTT we need to copy and edit the <code>configuration.yaml</code> file. This file contains the configuration which will be used by Zigbee2MQTT.</p><p>Copy and open the configuration file:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> /opt/zigbee2mqtt/data/configuration.example.yaml /opt/zigbee2mqtt/data/configuration.yaml
<span class="token function">nano</span> /opt/zigbee2mqtt/data/configuration.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>For a basic configuration, the default settings are probably good. The only thing we need to change is the MQTT server url/authentication and the serial port (in some cases, your adapter might need additional configuration parameters, see <a href="/guide/adapters/" class="">supported Adapters</a>). This can be done by changing the section below in your <code>configuration.yaml</code>.</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># MQTT settings</span>
<span class="token key atrule">mqtt</span><span class="token punctuation">:</span>
  <span class="token comment"># MQTT base topic for Zigbee2MQTT MQTT messages</span>
  <span class="token key atrule">base_topic</span><span class="token punctuation">:</span> zigbee2mqtt
  <span class="token comment"># MQTT server URL</span>
  <span class="token key atrule">server</span><span class="token punctuation">:</span> <span class="token string">&#39;mqtt://localhost&#39;</span>
  <span class="token comment"># MQTT server authentication, uncomment if required:</span>
  <span class="token comment"># user: my_user</span>
  <span class="token comment"># password: my_password</span>

<span class="token comment"># Serial settings</span>
<span class="token key atrule">serial</span><span class="token punctuation">:</span>
  <span class="token comment"># Location of the adapter (see first step of this guide)</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> /dev/ttyACM0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Save the file and exit.</p><h2 id="starting-zigbee2mqtt" tabindex="-1"><a class="header-anchor" href="#starting-zigbee2mqtt" aria-hidden="true">#</a> Starting Zigbee2MQTT</h2><p>Now that we have setup everything correctly we can start Zigbee2MQTT.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /opt/zigbee2mqtt
<span class="token function">npm</span> start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>When started successfully, you will see something like:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Zigbee2MQTT:info  <span class="token number">2019</span>-11-09T13:04:01: Logging to directory: <span class="token string">&#39;/opt/zigbee2mqtt/data/log/2019-11-09.14-04-01&#39;</span>
Zigbee2MQTT:info  <span class="token number">2019</span>-11-09T13:04:01: Starting Zigbee2MQTT version <span class="token number">1.6</span>.0 <span class="token punctuation">(</span>commit <span class="token comment">#720e393)</span>
Zigbee2MQTT:info  <span class="token number">2019</span>-11-09T13:04:01: Starting zigbee-herdsman<span class="token punctuation">..</span>.
Zigbee2MQTT:info  <span class="token number">2019</span>-11-09T13:04:03: zigbee-herdsman started
Zigbee2MQTT:info  <span class="token number">2019</span>-11-09T13:04:03: Coordinator firmware version: <span class="token string">&#39;{&quot;type&quot;:&quot;zStack30x&quot;,&quot;meta&quot;:{&quot;transportrev&quot;:2,&quot;product&quot;:2,&quot;majorrel&quot;:2,&quot;minorrel&quot;:7,&quot;maintrel&quot;:2,&quot;revision&quot;:20190425}}&#39;</span>
Zigbee2MQTT:info  <span class="token number">2019</span>-11-09T13:04:03: Currently <span class="token number">0</span> devices are joined:
Zigbee2MQTT:warn  <span class="token number">2019</span>-11-09T13:04:03: <span class="token variable"><span class="token variable">`</span>permit_join<span class="token variable">`</span></span> <span class="token builtin class-name">set</span> to  <span class="token variable"><span class="token variable">`</span><span class="token boolean">true</span><span class="token variable">`</span></span> <span class="token keyword">in</span> configuration.yaml.
Zigbee2MQTT:warn  <span class="token number">2019</span>-11-09T13:04:03: Allowing new devices to join.
Zigbee2MQTT:warn  <span class="token number">2019</span>-11-09T13:04:03: Set <span class="token variable"><span class="token variable">`</span>permit_join<span class="token variable">`</span></span> to <span class="token variable"><span class="token variable">`</span><span class="token boolean">false</span><span class="token variable">`</span></span> once you joined all devices.
Zigbee2MQTT:info  <span class="token number">2019</span>-11-09T13:04:03: Zigbee: allowing new devices to join.
Zigbee2MQTT:info  <span class="token number">2019</span>-11-09T13:04:03: Connecting to MQTT server at mqtt://localhost
Zigbee2MQTT:info  <span class="token number">2019</span>-11-09T13:04:03: Connected to MQTT server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Zigbee2MQTT can be stopped by pressing <code>CTRL + C</code>.</p><h2 id="optional-running-as-a-daemon-with-systemctl" tabindex="-1"><a class="header-anchor" href="#optional-running-as-a-daemon-with-systemctl" aria-hidden="true">#</a> (Optional) Running as a daemon with systemctl</h2><p>To run Zigbee2MQTT as daemon (in background) and start it automatically on boot we will run Zigbee2MQTT with systemctl.</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Create a systemctl configuration file for Zigbee2MQTT</span>
<span class="token function">sudo</span> <span class="token function">nano</span> /etc/systemd/system/zigbee2mqtt.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Add the following to this file:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[Unit]
Description=zigbee2mqtt
After=network.target

[Service]
Environment=NODE_ENV=production
Type=notify
ExecStart=/usr/bin/node index.js
WorkingDirectory=/opt/zigbee2mqtt
StandardOutput=inherit
# Or use StandardOutput=null if you don&#39;t want Zigbee2MQTT messages filling syslog, for more options see systemd.exec(5)
StandardError=inherit
WatchdogSec=10s
Restart=always
RestartSec=10s
User=pi

[Install]
WantedBy=multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>If you are using a Raspberry Pi 1 or Zero AND if you followed this <a href="https://gist.github.com/Koenkk/11fe6d4845f5275a2a8791d04ea223cb" target="_blank" rel="noopener noreferrer">guide<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, replace <code>ExecStart=/usr/bin/node index.js</code> with <code>ExecStart=/usr/local/bin/node index.js</code>.</p></blockquote><blockquote><p>If you are using a Raspberry Pi or a system running from a SD card, you will likely want to minimize the amount of log files written to disk. Systemd service with <code>StandardOutput=inherit</code> will result in logging everything twice: once in <code>journalctl</code> through the systemd unit and once from Zigbee2MQTT default logging to files under <code>data/log</code>. You will likely want to keep only one of them:</p><blockquote><p>Keep only the logs under <code>data/log</code> --&gt; use <code>StandardOutput=null</code> in the systemd unit. <strong>or</strong></p><p>Keep only the <code>journalctl</code> logging --&gt; set <a href="https://www.zigbee2mqtt.io/guide/configuration/logging.html" target="_blank" rel="noopener noreferrer"><code>advanced.log_output = [&#39;console&#39;]</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> in Zigbee2MQTT configuration.</p></blockquote></blockquote><blockquote><p>If you want to use another directory to place all Zigbee2MQTT data, add <code>Environment=ZIGBEE2MQTT_DATA=/path/to/data</code> below <code>[Service]</code></p></blockquote><blockquote><p>Using <code>Type=notify</code> makes systemd aware of when zigbee2mqtt has started up and is e.g. listening on its <a href="/guide/configuration/frontend.html" class="">Frontend</a> sockets. This is useful for starting other, dependent systemd units or for using the <code>ExecStartPost=</code> attribute. For example, to allow a <a href="/guide/configuration/frontend.html#nginx-proxy-configuration" class="">Reverse Proxy</a> to access zigbee2mqtt&#39;s Unix socket, you could add <code>ExecStartPost=setfacl -m u:www-data:rw /run/zigbee2mqtt/zigbee2mqtt.sock</code> to the <code>[Service]</code> section and <code>apt install acl</code>.</p></blockquote><p>Save the file and exit.</p><p>You need some <strong>systemd</strong> development files, on <strong>Ubuntu</strong> these can be installed via:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ sudo apt install g++ make libsystemd-dev make
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Verify that the configuration works:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Start Zigbee2MQTT</span>
<span class="token function">sudo</span> systemctl start zigbee2mqtt

<span class="token comment"># Show status</span>
systemctl status zigbee2mqtt.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Output should look like:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pi@raspberry:/opt/zigbee2mqtt $ systemctl status zigbee2mqtt.service
● zigbee2mqtt.service - zigbee2mqtt
   Loaded: loaded <span class="token punctuation">(</span>/etc/systemd/system/zigbee2mqtt.service<span class="token punctuation">;</span> disabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Thu <span class="token number">2018</span>-06-07 <span class="token number">20</span>:27:22 BST<span class="token punctuation">;</span> 3s ago
 Main PID: <span class="token number">665</span> <span class="token punctuation">(</span>npm<span class="token punctuation">)</span>
   CGroup: /system.slice/zigbee2mqtt.service
           └─679 /usr/bin/node index.js

Jun 07 <span class="token number">20</span>:27:22 raspberry systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started zigbee2mqtt.
Jun 07 <span class="token number">20</span>:27:23 raspberry npm<span class="token punctuation">[</span><span class="token number">665</span><span class="token punctuation">]</span>: <span class="token operator">&gt;</span> zigbee2mqtt@1.6.0 start /opt/zigbee2mqtt
Jun 07 <span class="token number">20</span>:27:23 raspberry npm<span class="token punctuation">[</span><span class="token number">665</span><span class="token punctuation">]</span>: <span class="token operator">&gt;</span> <span class="token function">node</span> index.js
Jun 07 <span class="token number">20</span>:27:24 raspberry npm<span class="token punctuation">[</span><span class="token number">665</span><span class="token punctuation">]</span>: Zigbee2MQTT:info  <span class="token number">2019</span>-11-09T13:04:01: Logging to directory: <span class="token string">&#39;/opt/zigbee2mqtt/data/log/2019-11-09.14-04-01&#39;</span>
Jun 07 <span class="token number">20</span>:27:25 raspberry npm<span class="token punctuation">[</span><span class="token number">665</span><span class="token punctuation">]</span>: Zigbee2MQTT:info  <span class="token number">2019</span>-11-09T13:04:01: Starting Zigbee2MQTT version <span class="token number">1.6</span>.0 <span class="token punctuation">(</span>commit <span class="token comment">#720e393)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now that everything works, we want systemctl to start Zigbee2MQTT automatically on boot, this can be done by executing:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> zigbee2mqtt.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Done! 😃</p><p>Some tips that can be handy later:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Stopping Zigbee2MQTT</span>
<span class="token function">sudo</span> systemctl stop zigbee2mqtt

<span class="token comment"># Starting Zigbee2MQTT</span>
<span class="token function">sudo</span> systemctl start zigbee2mqtt

<span class="token comment"># View the log of Zigbee2MQTT</span>
<span class="token function">sudo</span> journalctl <span class="token parameter variable">-u</span> zigbee2mqtt.service <span class="token parameter variable">-f</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="for-later-update-zigbee2mqtt-to-the-latest-version" tabindex="-1"><a class="header-anchor" href="#for-later-update-zigbee2mqtt-to-the-latest-version" aria-hidden="true">#</a> (For later) Update Zigbee2MQTT to the latest version</h2><p>To update Zigbee2MQTT to the latest version, execute:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Run the update script from the Zigbee2MQTT directory</span>
<span class="token builtin class-name">cd</span> /opt/zigbee2mqtt
./update.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/Koenkk/zigbee2mqtt.io/edit/master/docs/guide/installation/01_linux.md" rel="noopener noreferrer" target="_blank" aria-label="✏ Help to make the docu better and edit this page on Github ✌"><!--[--><!--]--> ✏ Help to make the docu better and edit this page on Github ✌ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/guide/configuration/" class="" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.aed27094.js" defer></script><script src="/assets/js/65740.363d4dad.js" defer></script><script src="/assets/js/app.1bfd5e5d.js" defer></script>
  </body>
</html>
